
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://example.com/LensModding/">
      
      
        <link rel="prev" href="../CharacterChaoModding/">
      
      
        <link rel="next" href="../troubleshooting/">
      
      
      <link rel="icon" href="../logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.10">
    
    
      
        <title>Lens Mods - Chao World Modding Documentation v2.0</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#custom-lenses" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Chao World Modding Documentation v2.0" class="md-header__button md-logo" aria-label="Chao World Modding Documentation v2.0" data-md-component="logo">
      
  <img src="../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Chao World Modding Documentation v2.0
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lens Mods
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Dark Mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark Mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 2c-1.82 0-3.53.5-5 1.35C8 5.08 10 8.3 10 12s-2 6.92-5 8.65C6.47 21.5 8.18 22 10 22a10 10 0 0 0 10-10A10 10 0 0 0 10 2Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Light Mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light Mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Chao World Modding Documentation v2.0" class="md-nav__button md-logo" aria-label="Chao World Modding Documentation v2.0" data-md-component="logo">
      
  <img src="../logo.png" alt="logo">

    </a>
    Chao World Modding Documentation v2.0
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Useful pages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Useful pages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CWEAPICodeTemplate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CWE API Code Template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../RefChaoFiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference - SA2MDL Chao Filenames
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ChaoDataStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference - Chao Data Structure
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tips for beginners
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tips for beginners
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../beginTexturing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Texturing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../beginUV/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UV Unwrapping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../beginCode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TestingMods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Mods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../beginSAIO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SAIO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../BeginHelp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Asking for help
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Modding Setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Modding Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MakingProject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Making a Project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DevSetup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting up your development environment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Creating Mods
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Creating Mods
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FTNaming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fortune Teller Name Mods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../HatModding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hat Mods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FruitModding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fruit Mods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AccessoryModding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accessory Mods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AnimalModding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Animal Mods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TreeModding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Tree Mods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CharacterChaoModding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Character Chao Mods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Lens Mods
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Lens Mods
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisites:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-a-lens" class="md-nav__link">
    <span class="md-ellipsis">
      What is a "Lens"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelling" class="md-nav__link">
    <span class="md-ellipsis">
      Modelling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modelling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#before-we-start" class="md-nav__link">
    <span class="md-ellipsis">
      Before we start:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#things-you-will-need" class="md-nav__link">
    <span class="md-ellipsis">
      Things you will need:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#texturing" class="md-nav__link">
    <span class="md-ellipsis">
      texturing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    <span class="md-ellipsis">
      Code:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-the-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Adding the dependencies:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copying-the-boilerplate-code" class="md-nav__link">
    <span class="md-ellipsis">
      Copying the boilerplate code:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-custom-texture-file" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a custom Texture file:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-black-market-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Adding Black Market Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-custom-models" class="md-nav__link">
    <span class="md-ellipsis">
      Adding Custom Models:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-the-lens" class="md-nav__link">
    <span class="md-ellipsis">
      Adding the Lens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Project:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-the-mod" class="md-nav__link">
    <span class="md-ellipsis">
      Creating the mod:
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../credits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credits
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisites:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-a-lens" class="md-nav__link">
    <span class="md-ellipsis">
      What is a "Lens"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelling" class="md-nav__link">
    <span class="md-ellipsis">
      Modelling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modelling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#before-we-start" class="md-nav__link">
    <span class="md-ellipsis">
      Before we start:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#things-you-will-need" class="md-nav__link">
    <span class="md-ellipsis">
      Things you will need:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#texturing" class="md-nav__link">
    <span class="md-ellipsis">
      texturing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    <span class="md-ellipsis">
      Code:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-the-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Adding the dependencies:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copying-the-boilerplate-code" class="md-nav__link">
    <span class="md-ellipsis">
      Copying the boilerplate code:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-custom-texture-file" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a custom Texture file:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-black-market-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Adding Black Market Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-custom-models" class="md-nav__link">
    <span class="md-ellipsis">
      Adding Custom Models:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-the-lens" class="md-nav__link">
    <span class="md-ellipsis">
      Adding the Lens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Project:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-the-mod" class="md-nav__link">
    <span class="md-ellipsis">
      Creating the mod:
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="custom-lenses">Custom Lenses</h1>
<h2 id="pre-requisites">Pre-requisites:</h2>
<ul>
<li>Have completed the <a href="../MakingProject/">Making a DLL Project</a> section</li>
<li>The latest version of Blender<ul>
<li>Blender SAIO plugin</li>
</ul>
</li>
<li>Basic 3D Theory</li>
<li>Basic C++ Programming skills</li>
<li>SA Tools (Make sure you've created an SA Tools Project!)</li>
<li>Chao World Extended (Versions &gt; 9.5)</li>
<li>Patience</li>
</ul>
<p>Tools can be downloaded <a href="../tools/">here</a></p>
<h2 id="what-is-a-lens">What is a "Lens"</h2>
<p>Lenses are a Chao World Extended addition, allowing you to change the texture of your Chao's eyes. They were introduced in Version 8 alongside the Custom Animal system, and are now available for customization and modification (&gt;version 9.5)</p>
<h2 id="modelling">Modelling</h2>
<div class="admonition tip">
<p class="admonition-title">Advice</p>
<p>Chao World Extended has a stock lens available. If you want to skip modelling a lens case, click <a href="">here</a> to download the stock lens!</p>
</div>
<h3 id="before-we-start">Before we start:</h3>
<ul>
<li>Delete all default scene objects! These objects will crash your game if you do not delete them.</li>
<li>Make sure SAIO is up to date! As of writing, SAIO 2.1.2 is the most recent. Keeping SAIO and Blender up-to-date will help anyone helping you eliminate issues.</li>
<li>Make sure SAIO is enabled in the Addons menu! If not, go to Edit -&gt; Preferences and go to the Addons menu to install/enable "Import-Export: Sonic Adventure I/O"</li>
<li>If SAIO errors out on any operation, and it complains about .NET runtime, install the <a href="https://dotnet.microsoft.com/en-us/download">Microsoft .NET Runtimes</a> as instructed by the <a href="https://x-hax.github.io/SonicAdventureBlenderIO/">SAIO Documentation</a>.</li>
</ul>
<h3 id="things-you-will-need">Things you will need:</h3>
<ul>
<li>A texture for the eyes (make sure they fit within the eye spec of a Chao model, test as appropriate)</li>
<li>A model for your lens case.</li>
</ul>
<h2 id="texturing">texturing</h2>
<p>The following textures are needed in the following order:</p>
<ul>
<li>Default lens</li>
<li>Small eyes</li>
<li>Dark Chao eyes</li>
<li>Hero Chao eyes</li>
<li>Neutral Chaos Chao eyes</li>
<li>Hero Chaos Chao eyes</li>
<li>Dark Chaos Chao eyes</li>
</ul>
<p>You're allowed to add any textures needed for the lens casing thereafter.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Hero and Dark swap around for Chaos Chao eyes. Bear this in mind.</p>
</div>
<h2 id="code">Code:</h2>
<p>If you have not created a Visual Studio project yet, follow the instructions on "<a href="../DevSetup/">Setting up your development environment</a>".</p>
<h3 id="adding-the-dependencies">Adding the dependencies:</h3>
<p>Go into your Sonic Adventure 2 folder, and find the "programming" directory. Copy all of the files into your Visual Studio Project folder.</p>
<p><img alt="Adding Dependencies" src="../imgs/FileManagement_AddingDependencies.png" /></p>
<p>For advanced users, the most up-to-date dependencies can be found in <a href="../tools/">Tools</a> inside the "SA2Modloader includes" github page.</p>
<p>Clone or download <code>ModelInfo.h</code> and <code>ModelInfo.cpp</code> from <a href="https://github.com/X-Hax/sa2-mod-loader/tree/master/libmodutils">LibModUtils</a>.</p>
<p>To download the file in Github, click on each file you want, and click the download button on the right hand side of the header of the code preview.</p>
<p><img alt="Github - Download Raw File" src="../imgs/github-DownloadRawFile.png" /></p>
<p>Place these two files into your Visual Studio Project folder, where the other dependencies have been placed.</p>
<p>You will need to change the first include in <code>ModelInfo.cpp</code> in order to fix a problem -- change <code>#include "stdafx.h"</code> to <code>#include "pch.h"</code>.</p>
<p>If you don't replace the include, this error will occur!</p>
<p><img alt="Replacing an include" src="../imgs/replaceinclude.png" /></p>
<p>Afterwards, Add the files into your project by right clicking "Header Files" in your project explorer and going to Add -&gt; Existing Item... to add <code>ModelInfo.h</code> and <code>ModelInfo.cpp</code></p>
<p><img alt="Add Existing Items" src="../imgs/AddExistingFilesVS.png" /></p>
<h3 id="copying-the-boilerplate-code">Copying the boilerplate code:</h3>
<p>Add a new source file and call it <code>main.cpp</code></p>
<p>Copy the <a href="../CWEAPICodeTemplate/">Chao World Extended API Code Template</a> and paste it into the fresh <code>main.cpp</code> file that you've added to the Visual Studio project.</p>
<h3 id="creating-a-custom-texture-file">Creating a custom Texture file:</h3>
<p>Inside the <code>extern "C"</code> function, the following two lines:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">NJS_TEXNAME</span><span class="w"> </span><span class="n">ExampleTex</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">NJS_TEXLIST</span><span class="w"> </span><span class="n">example_texlist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">arrayptrandlength</span><span class="p">(</span><span class="n">ExampleTex</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
</span></code></pre></div>
<p>Let's break these two lines down:</p>
<p><code>NJS_TEXNAME</code> - The name of your texture loader. change <code>ExampleTex</code> with a unique name, and replace the number inside of the square brackets (the array assignment) to the amount of textures your mod will have.</p>
<p><code>NJS_TEXLIST</code> - The texture list - Assign this to your <code>NJS_TEXNAME</code> so that it knows how to read it. Give it a unique name, since you reference this in any API calls that need your texture.</p>
<p>Inside the CWELoad function, Load the texture file with the following code:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">cwe_api</span><span class="o">-&gt;</span><span class="n">RegisterChaoTexlistLoad</span><span class="p">(</span><span class="s">&quot;ExampleTex&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">example_texlist</span><span class="p">);</span>
</span></code></pre></div>
<p><code>RegisterChaoTexlistLoad()</code> takes two arguments - The name of your texture file (without the .PAK at the end of it) and a reference call to the <code>NJS_TEXLIST</code> that you created.</p>
<h3 id="adding-black-market-attributes">Adding Black Market Attributes</h3>
<p>Add the following code below the texture list variables:
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">BlackMarketItemAttributes</span><span class="w"> </span><span class="n">BMExampleHat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">};</span>
</span></code></pre></div></p>
<p>Let's break it down:</p>
<p><code>BlackMarketItemAttributes</code> - This is a struct inside of the CWE API which contains the following, in the following order:</p>
<ul>
<li>
<p>PurchasePrice - The selling price of the item sold.</p>
</li>
<li>
<p>SalePrice - the buying price if you're selling the item back to the Black Market.</p>
</li>
<li>
<p>RequiredEmblems - The amount of emblems required in the game (0 to 180 is possible in game, anything higher and they will not be able to be purchased through the Black Market.)</p>
</li>
<li>
<p>-1 - Name - Keep this as is, we define it in the AddHat function.</p>
</li>
<li>
<p>-1 - Description - Keep this as is, we define it in the AddHat function.</p>
</li>
<li>
<p>0 - Unknown - Keep this as is.</p>
</li>
</ul>
<h3 id="adding-custom-models">Adding Custom Models:</h3>
<p>Create a <code>ModelInfo</code> pointer variable for each of the models you are about to add inside the <code>extern "C"</code> function. For example:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">ModelInfo</span><span class="o">*</span><span class="w"> </span><span class="n">MDLExampleHat</span><span class="p">;</span>
</span></code></pre></div>
<p>This is empty at the moment, so let's define it. In the <code>Init</code> function. underneath the <code>pathStr</code> variable, add the following for each model:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">MDLExampleHat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ModelInfo</span><span class="p">(</span><span class="n">pathStr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;ExampleHat.sa2mdl&quot;</span><span class="p">);</span>
</span></code></pre></div>
<p>Replace <code>MDLExampleHat</code> with whatever your <code>ModelInfo</code> pointer variable was called, and change the filename to the appropriate model.</p>
<h3 id="adding-the-lens">Adding the Lens</h3>
<p>There's a few things we will need to add before a lens is able to be registered. In the <code>Extern "C"</code> function, add the following line just below the <code>RegisterDataFunc</code> function pointer:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="w">    </span><span class="c1">//Lens function - Needed for CWE to recognize the lens.</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="kr">__declspec</span><span class="p">(</span><span class="n">dllexport</span><span class="p">)</span><span class="w"> </span><span class="kt">void</span><span class="p">(</span><span class="kr">__cdecl</span><span class="o">*</span><span class="w"> </span><span class="n">ALS_LensSpecial</span><span class="p">)(</span><span class="n">ObjectMaster</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">ObjectMaster</span><span class="o">*</span><span class="p">);</span>
</span></code></pre></div>
<p>In the <code>Init</code> function, add the following line just below the <code>PathStr</code> varaible:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="w">    </span><span class="c1">//Lens function - This talks to CWE to get the lens to work when registering it as a special object.</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="n">ALS_LensSpecial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">decltype</span><span class="p">(</span><span class="n">ALS_LensSpecial</span><span class="p">))</span><span class="n">GetProcAddress</span><span class="p">(</span><span class="n">GetModuleHandle</span><span class="p">(</span><span class="sa">L</span><span class="s">&quot;CWE&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;ALS_LensSpecial&quot;</span><span class="p">);</span>
</span></code></pre></div>
<p>Now add the <code>RegisterChaoSpecial()</code> function, to register it to the Black Market:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="w">    </span><span class="c1">//Register your lens to the black market:</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="n">cwe_api</span><span class="o">-&gt;</span><span class="n">RegisterChaoSpecial</span><span class="p">(</span><span class="n">MDLExampleLensBox</span><span class="o">-&gt;</span><span class="n">getmodel</span><span class="p">(),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">Example_texlist</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">BMExampleLens</span><span class="p">,</span><span class="w"> </span><span class="n">ALS_LensSpecial</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Lens Name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Lens Description&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
</span></code></pre></div>
<p>And associate the lens with your texture:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">//Associate the lens as a custom eye color:</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">cwe_api</span><span class="o">-&gt;</span><span class="n">RegisterEyeColor</span><span class="p">(</span><span class="s">&quot;ExampleTextureName&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">Example_texlist</span><span class="p">,</span><span class="w"> </span><span class="n">ExampleLensID</span><span class="p">);</span>
</span></code></pre></div>
<h3 id="building-the-project">Building the Project:</h3>
<p>Your solution configuration should be "Release" and your solution platform should be "x86" so that your mod is small, and does not have the additional code inside your mod. Your configurations should look like the following image below:</p>
<p><img alt="configuration and platform" src="../imgs/ConfigPlatform.png" /></p>
<p>Build the project by pressing <span class="keys"><kbd class="key-f6">F6</kbd></span> or going to Build -&gt; Build Solution. If you have a "Build Succeeded" in your tooltip at the bottom left of your Visual Studio window, proceed. If you have a "Build Failed" message, have a look at the <a href="../examples/">Sample mod</a> to see where you went wrong, and try again. </p>
<p>If you still can't get your build to work, try using the example mod as a template.</p>
<h2 id="creating-the-mod">Creating the mod:</h2>
<p>If you haven't followed <a href="../MakingProject/">Making a Project</a>, set up your mod folder. Copy the DLL file from inside your release folder into your mod folder and edit your "mod.ini" file to contain your DLLFile. For example:</p>
<div class="language-ini highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="na">DLLFile</span><span class="o">=</span><span class="s">ExampleMod.dll</span>
</span></code></pre></div>
<p>Place your .SA2MDL models inside the mod folder.</p>
<p>Add a folder in your mod directory called "gd_PC", and inside that folder, add another directory called "PRS". Inside the "PRS" folder, add your <code>.PAK</code> texture files.</p>
<p>Save your "mod.ini" file and test your mod!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>